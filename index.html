<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mikafood Production - Stratégie</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{ --black:#0a0a0a; --violet:#6a0dad; --violet-soft:rgba(106,13,173,0.45); --text:#f4f4f4; }
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{ font-family:'Inter',sans-serif; background:var(--black); color:var(--text); padding-bottom: 100px; overflow-x: hidden; }

/* ---------- HERO ---------- */
.hero{
  height:100vh; display:flex; align-items:center; justify-content:center;
  text-align:center; position:relative; overflow:hidden;
}
.hero video{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:.25;
}
.hero-content{ position:relative; max-width:960px; padding:40px; }
.hero h1{ font-size:clamp(2.2rem,4.5vw,3.5rem); margin-bottom:26px; font-weight:700; }
.hero p{ font-size:1.15rem; margin-bottom:30px; color:#d6d6d6; line-height:1.6; }

/* ---------- GRILLE MODULES ---------- */
section{padding:80px 7vw}
.modules {
  display: grid !important; grid-template-columns: repeat(3, 1fr) !important;
  gap: 25px; max-width: 1100px; margin: 0 auto;
}
.module-card {
  border: 2px solid var(--violet-soft); border-radius: 20px; padding: 20px;
  cursor: pointer; background: rgba(20,20,20,0.6); aspect-ratio: 1/1;
  display: flex; flex-direction: column; align-items: center; text-align: center; transition: 0.3s;
}
.module-card:hover { border-color: var(--violet); transform: translateY(-5px); }
.module-card.selected { border-color: var(--violet); box-shadow: 0 0 30px var(--violet); background: rgba(106,13,173,0.1); }
.module-thumb { width: 100%; height: 60%; object-fit: cover; border-radius: 12px; margin-bottom: 15px; pointer-events: none;}
h3 { font-size: 1rem; margin-bottom: 8px; pointer-events: none;}
.module-card span { font-size: 0.8rem; color: #aaa; pointer-events: none;}

/* ---------- MODALE ---------- */
#modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.92);
  z-index: 9999; display: none; align-items: center; justify-content: center; backdrop-filter: blur(10px);
}
.modal-content {
  background: #050505; border: 1px solid var(--violet);
  width: 66vw; max-height: 85vh; border-radius: 24px; padding: 40px; position: relative; display: flex; flex-direction: column;
}
.choice-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0; }
.choice-item {
  background: #111; padding: 18px; border-radius: 15px; border: 1px solid #222;
  display: flex; align-items: center; cursor: pointer; transition: 0.2s;
}
.choice-item:hover { border-color: var(--violet); }
.choice-item input { width: 20px; height: 20px; margin-right: 15px; accent-color: var(--violet); }

/* ---------- FORMULAIRE ---------- */
.form-box{
  max-width:800px; margin:50px auto; border:2px solid var(--violet);
  border-radius:26px; padding:50px; background:#000;
}
input, textarea {
  width: 100%; margin-bottom: 20px; padding: 15px; background: #111;
  border: 1px solid #333; border-radius: 12px; color: #fff; font-size: 1rem;
}
textarea { min-height: 120px; }

/* ---------- STICKY & BUTTONS ---------- */
.sticky-bar {
  position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
  background: rgba(0,0,0,0.85); border: 1px solid var(--violet);
  padding: 12px 25px; border-radius: 50px; display: flex; align-items: center; gap: 20px; z-index: 100;
}
.btn-main {
  background: var(--violet); color: white; border: none; padding: 15px 35px;
  border-radius: 14px; cursor: pointer; font-weight: 600; font-size: 1.1rem; transition: 0.3s;
}
.btn-main:hover { box-shadow: 0 0 20px var(--violet-soft); }

@media(max-width:900px){
  .modules { grid-template-columns: 1fr 1fr !important; }
  .modal-content { width: 90vw; padding: 20px; }
  .choice-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<section class="hero">
  <video autoplay muted loop playsinline>
    <source src="assets/Mika Food Solutions.mp4" type="video/mp4">
  </video>
  <div class="hero-content">
    <h1>Le sur-mesure pour propulser votre établissement.</h1>
    <p>Découvrez nos missions et composez votre stratégie idéale : sélectionnez les modules adaptés à vos besoins réels.</p>
    <button class="btn-main" onclick="document.getElementById('modules').scrollIntoView()">Explorer les Modules</button>
  </div>
</section>

<section id="modules">
  <div class="modules" id="main-grid"></div>
</section>

<section id="formulaire">
  <div class="form-box">
    <h2 style="margin-bottom:20px; color:var(--violet);">Votre Panier de Solutions</h2>
    <ul id="selectedList" style="margin-bottom:30px; list-style: none; color:#ccc;"></ul>
    <input type="text" placeholder="Nom de l'établissement">
    <input type="email" placeholder="Votre Email">
    <textarea placeholder="Décrivez votre défi principal..."></textarea>
    <button class="btn-main" style="width:100%">Envoyer la demande</button>
  </div>
</section>

<div id="modal-overlay" onclick="closeModal()">
  <div class="modal-content" onclick="event.stopPropagation()">
    <h2 id="modal-title" style="color:var(--violet)"></h2>
    <p id="modal-desc" style="margin-top:10px; color:#ccc;"></p>
    <div class="choice-grid" id="modal-choices"></div>
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <span id="modal-goal" style="color:var(--violet); font-weight:bold;"></span>
        <button class="btn-main" onclick="saveAndClose()" style="padding:10px 20px; font-size:0.9rem;">Enregistrer</button>
    </div>
  </div>
</div>

<div class="sticky-bar">
  <span><strong id="count" style="color:var(--violet)">0</strong> module(s)</span>
  <button onclick="document.getElementById('formulaire').scrollIntoView()" style="background:none; border:none; color:var(--violet); cursor:pointer; font-weight:bold;">Finaliser</button>
</div>

<script>
const MODULES_DATA = {
  "module1": { "titre": "Clientèle & Fidélité", "label": "Acquisition & Rétention", "img": "assets/1Fidélitéxclusivité.png", "desc": "L'acquisition coûte 5x plus cher que la rétention. Transformez vos visiteurs en ambassadeurs actifs.", "goal": "Objectif : +10%
